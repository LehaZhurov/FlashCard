import{s as l,S as a,b as i,d as y,c as f,e as D,f as v}from"./getCardCollection.88491cbc.js";function E(t){let e=document.querySelector("#comfim_delete_deck"),c=document.querySelector("#aboard_delete_deck");location="#deleteDeck",e.onclick=()=>(_(t),!0),c.onclick=()=>{location="#close"}}function _(t){l("body","\u0423\u0434\u0430\u043B\u044F\u044E..."),a("GET","/deck/delete/"+t).then(e=>{location="#close",i(),I(1)}).catch(e=>{console.log(e)})}function A(t){document.querySelector("#count-deck").innerHTML=t.length}async function b(t){return await a("GET","/deck/"+t+"/cards").then(c=>c).catch(c=>{console.log(c)})}function B(t,e){let c=document.querySelector("#comfim_remove_card"),n=document.querySelector("#aboard_remove_card");location="#removeCardFromDeck",c.onclick=()=>(S(t,e),!0),n.onclick=()=>{location="#close"}}function S(t,e){let c=new FormData;c.append("card_id",t),c.append("deck_id",e),l("body","\u0423\u0431\u0438\u0440\u0430\u0435\u043C \u043A\u0430\u0440\u0442\u0443 \u0438\u0437 \u043A\u043E\u043B\u043E\u0434\u044B"),a("POST","/card/removeCardFromDeck",c).then(n=>{location="#close",b(e),i()}).catch(n=>{console.log(n)})}function q(t){let e=document.createElement("div");e.setAttribute("class","card-option");let c=document.createElement("div");c.setAttribute("class","button-group-column"),e.appendChild(c);let n=document.createElement("button");n.setAttribute("class","danger"),n.innerText="\u0420\u0430\u0441\u043F\u044B\u043B\u0438\u0442\u044C",n.onclick=()=>{y(t.id)};let o=document.createElement("button");return o.setAttribute("class","danger"),o.innerText="\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0438\u0437 \u043A\u043E\u043B\u043E\u0434\u044B",o.onclick=()=>{B(t.id,t.deck_id)},c.appendChild(n),c.appendChild(o),e.appendChild(c),e}function T(t){document.querySelector("#count_card_current_deck").innerHTML=t.length}let C=document.querySelector("#decks-view"),h=document.querySelector("#cards-deck-view"),F=document.querySelector("#back-to-decks"),g=document.querySelector("#cards-deck"),x=["","common","rare","epic","legend"];async function w(t){L(),l("body","\u041F\u0440\u043E\u0441\u043C\u0430\u0442\u0440\u0438\u0432\u0430\u044E \u043A\u043E\u043B\u043E\u0434\u0443");let e=await b(t);R(),O(e.data),T(e.data),i()}function L(){C.setAttribute("style","display:none"),h.setAttribute("style","display:block")}F.onclick=()=>{H()};function H(){C.setAttribute("style","display:block"),h.setAttribute("style","display:none")}function O(t){for(let e=0;e<t.length;e++)g.appendChild(P(t[e]))}function P(t){let e=document.createElement("div");e.setAttribute("class","card "+x[t.level]);let c=f(t),n=D(t),o=q(t),d=v(t,o,n);return e.appendChild(c),e.appendChild(n),e.appendChild(o),e.appendChild(d),e}function R(){g.innerHTML=" "}function G(t,e){let c=document.querySelector("#"+t);c.innerHTML=" ";for(let n=0;n<e.length;n++)c.appendChild(M(e[n]))}function M(t){let e=document.createElement("option");return e.innerText=t.name,e.setAttribute("value",t.id),e}let r=document.querySelector("#deck-card-deck");function I(t=1){l("body","\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043C \u0432\u0430\u0448\u044B \u043A\u043E\u043B\u043E\u0434\u044B"),a("GET","/deck/getDecks/?page="+t).then(e=>{j(),z(e.data),G("select_deck_from_add_card",e.data),A(e.data),i()}).catch(e=>{console.log(e)})}function j(){for(;r.children.length>1;)r.removeChild(r.lastChild)}function z(t){for(var e=0;e<t.length;e++)r.appendChild(J(t[e]))}function J(t){let e=document.createElement("div");e.setAttribute("class","deck-card");let c=document.createElement("h1");c.innerText=t.name,e.appendChild(c);let n=document.createElement("div");n.setAttribute("class","deck-card-option");let o=document.createElement("div");o.setAttribute("class","button-group-row"),n.appendChild(o);let d=document.createElement("button");d.setAttribute("class","danger");let s=document.createElement("i");s.setAttribute("class","bx bxs-trash"),d.appendChild(s),d.onclick=()=>{E(t.id)},o.appendChild(d);let u=document.createElement("button"),m=document.createElement("i");m.setAttribute("class","bx bxs-edit"),u.appendChild(m),u.onclick=()=>{w(t.id)},o.appendChild(u);let p=document.createElement("button"),k=document.createElement("i");return k.setAttribute("class","bx bx-play"),p.appendChild(k),o.appendChild(p),e.appendChild(n),e}export{I as g};
