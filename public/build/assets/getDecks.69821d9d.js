import{s as l,S as a,b as i,d as g,c as f,e as D}from"./getCardCollection.d0ce7f64.js";function v(t){let e=document.querySelector("#comfim_delete_deck"),c=document.querySelector("#aboard_delete_deck");location="#deleteDeck",e.onclick=()=>(E(t),!0),c.onclick=()=>{location="#close"}}function E(t){l("body","\u0423\u0434\u0430\u043B\u044F\u044E..."),a("GET","/deck/delete/"+t).then(e=>{location="#close",i(),O(1)}).catch(e=>{console.log(e)})}function _(t){document.querySelector("#count-deck").innerHTML=t.length}async function b(t){return await a("GET","/deck/"+t+"/cards").then(c=>c).catch(c=>{console.log(c)})}function A(t,e){let c=document.querySelector("#comfim_remove_card"),n=document.querySelector("#aboard_remove_card");location="#removeCardFromDeck",c.onclick=()=>(B(t,e),!0),n.onclick=()=>{location="#close"}}function B(t,e){let c=new FormData;c.append("card_id",t),c.append("deck_id",e),l("body","\u0423\u0431\u0438\u0440\u0430\u0435\u043C \u043A\u0430\u0440\u0442\u0443 \u0438\u0437 \u043A\u043E\u043B\u043E\u0434\u044B"),a("POST","/card/removeCardFromDeck",c).then(n=>{location="#close",b(e),i()}).catch(n=>{console.log(n)})}function S(t){let e=document.createElement("div");e.setAttribute("class","card-option");let c=document.createElement("div");c.setAttribute("class","button-group-column"),e.appendChild(c);let n=document.createElement("button");n.setAttribute("class","danger"),n.innerText="\u0420\u0430\u0441\u043F\u044B\u043B\u0438\u0442\u044C",n.onclick=()=>{g(t.id)};let o=document.createElement("button");return o.setAttribute("class","danger"),o.innerText="\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0438\u0437 \u043A\u043E\u043B\u043E\u0434\u044B",o.onclick=()=>{A(t.id,t.deck_id)},c.appendChild(n),c.appendChild(o),e.appendChild(c),e}function q(t){document.querySelector("#count_card_current_deck").innerHTML=t.length}let h=document.querySelector("#decks-view"),C=document.querySelector("#cards-deck-view"),T=document.querySelector("#back-to-decks"),y=document.querySelector("#cards-deck"),F=["","common","rare","epic","legend"];async function x(t){w(),l("body","\u041F\u0440\u043E\u0441\u043C\u0430\u0442\u0440\u0438\u0432\u0430\u044E \u043A\u043E\u043B\u043E\u0434\u0443");let e=await b(t);R(),H(e.data),q(e.data),i()}function w(){h.setAttribute("style","display:none"),C.setAttribute("style","display:block")}T.onclick=()=>{L()};function L(){h.setAttribute("style","display:block"),C.setAttribute("style","display:none")}function H(t){for(let e=0;e<t.length;e++)y.appendChild(P(t[e]))}function P(t){let e=document.createElement("div");e.setAttribute("class","card "+F[t.level]);let c=f(t),n=D(t),o=S(t);return e.appendChild(c),e.appendChild(n),e.appendChild(o),e}function R(){y.innerHTML=" "}function G(t,e){let c=document.querySelector("#"+t);c.innerHTML=" ";for(let n=0;n<e.length;n++)c.appendChild(M(e[n]))}function M(t){let e=document.createElement("option");return e.innerText=t.name,e.setAttribute("value",t.id),e}let r=document.querySelector("#deck-card-deck");function O(t=1){l("body","\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043C \u0432\u0430\u0448\u044B \u043A\u043E\u043B\u043E\u0434\u044B"),a("GET","/deck/getDecks/?page="+t).then(e=>{I(),j(e.data),G("select_deck_from_add_card",e.data),_(e.data),i()}).catch(e=>{console.log(e)})}function I(){for(;r.children.length>1;)r.removeChild(r.lastChild)}function j(t){for(var e=0;e<t.length;e++)r.appendChild(z(t[e]))}function z(t){let e=document.createElement("div");e.setAttribute("class","deck-card");let c=document.createElement("h1");c.innerText=t.name,e.appendChild(c);let n=document.createElement("div");n.setAttribute("class","deck-card-option");let o=document.createElement("div");o.setAttribute("class","button-group-row"),n.appendChild(o);let d=document.createElement("button");d.setAttribute("class","danger");let s=document.createElement("i");s.setAttribute("class","bx bxs-trash"),d.appendChild(s),d.onclick=()=>{v(t.id)},o.appendChild(d);let u=document.createElement("button"),m=document.createElement("i");m.setAttribute("class","bx bxs-edit"),u.appendChild(m),u.onclick=()=>{x(t.id)},o.appendChild(u);let p=document.createElement("button"),k=document.createElement("i");return k.setAttribute("class","bx bx-play"),p.appendChild(k),o.appendChild(p),e.appendChild(n),e}export{O as g};
