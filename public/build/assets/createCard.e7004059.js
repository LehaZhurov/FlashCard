import{S as w}from"./SendRequest.f2a9e872.js";import{s as U,a as D,g as V}from"./getCardCollection.ec45371b.js";import{g as j}from"./getBalance.c8558d1e.js";var z=function(){return function(r,t){var e=document.querySelector(r),i=e.querySelector(".slider__items"),s=e.querySelectorAll(".slider__item"),u=e.querySelectorAll(".slider__control"),T=0,x=0,P=100,o=[],H,I,d=0,C=s.length-1,M=50,f={isAutoplay:!0,directionAutoplay:"next",delayAutoplay:2e3,isPauseOnHover:!0};for(var k in t)k in f&&(f[k]=t[k]);for(var S=0,G=s.length;S<G;S++)o.push({item:s[S],position:S,transform:0});var y={getItemIndex:function(l){for(var n=0,c=0,a=o.length;c<a;c++)(o[c].position<o[n].position&&l==="min"||o[c].position>o[n].position&&l==="max")&&(n=c);return n},getItemPosition:function(l){return o[y.getItemIndex(l)].position}},g=function(l){var n,c=d;l==="next"?(T++,T>y.getItemPosition("max")&&(n=y.getItemIndex("min"),o[n].position=y.getItemPosition("max")+1,o[n].transform+=o.length*100,o[n].item.style.transform="translateX("+o[n].transform+"%)"),x-=P,d=d+1,d>C&&(d=0)):(T--,T<y.getItemPosition("min")&&(n=y.getItemIndex("max"),o[n].position=y.getItemPosition("min")-1,o[n].transform-=o.length*100,o[n].item.style.transform="translateX("+o[n].transform+"%)"),x+=P,d=d-1,d<0&&(d=C)),i.style.transform="translateX("+x+"%)",I[c].classList.remove("active"),I[d].classList.add("active")},B=function(l){for(var n=0,c=l>d?"next":"prev";l!==d&&n<=C;)g(c),n++},v=function(){!f.isAutoplay||(L(),H=setInterval(function(){g(f.directionAutoplay)},f.delayAutoplay))},L=function(){clearInterval(H)},W=function(){var l=document.createElement("ol");l.classList.add("slider__indicators");for(var n=0,c=s.length;n<c;n++){var a=document.createElement("li");a.innerHTML=n,n===0&&a.classList.add("active"),a.setAttribute("data-slide-to",n),l.appendChild(a)}e.appendChild(l),I=e.querySelectorAll(".slider__indicators > li")},F=function(){return!!("ontouchstart"in window||navigator.maxTouchPoints)},N=function(){var l=0;if(F())e.addEventListener("touchstart",function(a){l=a.changedTouches[0].clientX,v()}),e.addEventListener("touchend",function(a){var R=a.changedTouches[0].clientX,O=R-l;O>M?g("prev"):O<-M&&g("next"),v()});else for(var n=0,c=u.length;n<c;n++)u[n].classList.add("slider__control_show");e.addEventListener("click",function(a){a.target.classList.contains("slider__control")?(a.preventDefault(),g(a.target.classList.contains("slider__control_next")?"next":"prev"),v()):a.target.getAttribute("data-slide-to")&&(a.preventDefault(),B(parseInt(a.target.getAttribute("data-slide-to"))),v())}),document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"?L():v()},!1),f.isPauseOnHover&&f.isAutoplay&&(e.addEventListener("mouseenter",function(){L()}),e.addEventListener("mouseleave",function(){v()}))};return W(),N(),v(),{next:function(){g("next")},left:function(){g("prev")},stop:function(){f.isAutoplay=!1,L()},cycle:function(){f.isAutoplay=!0,v()}}}}();function J(r){let t=new FormData;t.append("word",r),w("POST","/word/create",t).then(e=>{}).catch(e=>{console.log(e)})}let p=[],X=document.querySelector("#stepOneDisplay"),b=document.querySelector("#stepTooDisplay"),E=document.querySelector("#stepThreeDisplay"),m=document.querySelector("#word"),h=document.querySelector("#btn-step-one");h.onclick=()=>{K()};let _=5;async function K(){if(!m.value)return!1;J(m.value),m.setAttribute("disabled",!0),p.word=m.value,Z(),await Q(m.value),await Y(m.value),X.style.display="none",b.style.display="block",m.removeAttribute("disabled"),z(".slider",{isAutoplay:!1})}function q(){if(!m.hasAttribute("disabled")){h.innerText="\u0414\u0430\u043B\u0435\u0435",h.setAttribute("style","background:var(--secondary-dark)");return}if(_==95)return _=5,q();h.innerText="\u0418\u0449\u0435\u043C \u0433\u0438\u0444\u043A\u0438 \u0438 \u043F\u0435\u0440\u0435\u0432\u043E\u0434",setTimeout(()=>{h.setAttribute("style",`background:linear-gradient(110deg, var(--secondary-dark) 0%, 
        var(--secondary-dark) `+(_-5)+"%, rgba(239,239,242,1) "+_+"%, var(--secondary-dark) "+(_+5)+`%, 
        var(--secondary-dark) 100%);`),q()},10),_++}async function Q(r){q(),await w("GET","/translation/"+r).then(t=>{p.data=t}).catch(t=>{console.log(t)})}async function Y(r){await w("GET","/gif/search/"+r).then(t=>{$(t.data),p.gifs=t.data}).catch(t=>{A(),console.log(t)})}function Z(){let r=document.querySelector("#slider-block");r.innerHTML=" ";let t=document.createElement("div");t.setAttribute("class","slider");let e=document.createElement("div");e.setAttribute("class","slider__wrapper");let i=document.createElement("div");i.setAttribute("class","slider__items"),i.setAttribute("id","select-gif");let s=document.createElement("a");s.setAttribute("class","slider__control slider__control_prev"),s.setAttribute("href","#"),s.setAttribute("role","button"),s.innerHTML="<";let u=document.createElement("a");return u.setAttribute("class","slider__control slider__control_next"),u.setAttribute("href","#"),u.setAttribute("role","button"),u.innerHTML=">",t.appendChild(e),e.appendChild(i),e.appendChild(s),e.appendChild(u),r.appendChild(t),!0}function $(r){try{let t=r.length,e=document.querySelector("#select-gif");e.innerHTML=" ";for(let i=0;i<t;i++)e.appendChild(ee(r[i].src))}catch{A()}}function ee(r){let t=document.createElement("div");t.setAttribute("class","slider__item");let e=document.createElement("div");e.setAttribute("class","slider-gif");let i=document.createElement("img");return i.src=r,t.appendChild(e),e.appendChild(i),t}document.querySelector("#btn-step-one-prev").onclick=()=>{A()};function A(){m.value="",X.style.display="block",b.style.display="none",E.style.display="none"}document.querySelector("#btn-step-too").onclick=()=>{te()};function te(){try{let r=document.querySelector("ol>li.active").innerHTML;p.src=p.gifs[r].src,ne(),b.style.display="none",E.style.display="block"}catch{A()}}function ne(){let r=document.querySelector("#creatingCardWord");r.innerHTML=" ",r.innerHTML=p.word;let t=document.querySelector("#creatingCardTranslate");t.innerHTML=" ";let e=p.data.translate.length;for(let s=0;s<e;s++){let u=" , ";s==e-1&&(u=";"),t.innerHTML+=" "+p.data.translate[s]+u}let i=document.querySelector("#creatingCardImg");i.src=p.src}document.querySelector("#btn-step-too-prev").onclick=()=>{re()};function re(){b.style.display="none",b.style.display="block",E.style.display="none"}document.querySelector("#btn-save-new-card").onclick=()=>{ie()};function ie(){A(),U("body","\u0421\u043E\u0445\u0440\u0430\u043D\u044F\u0435\u043C \u043A\u0430\u0440\u0442\u0443");let r=p.word,t=p.src,e=new FormData;e.append("word",r),e.append("gif",t),w("POST","/card/create",e).then(i=>{D(),location="#close",oe(),j()}).catch(i=>{location="#close",D(),console.log(i)})}function oe(){window.currentPage<2&&V(1)}
