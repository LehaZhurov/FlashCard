import{S as s,g as C}from"./getBalance.dd24ae22.js";let f="https://i.giphy.com/media/j5sp3actiz8foT88Dp/giphy.webp",r;function m(e,t="\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430"){r=document.querySelector("#"+e),r.classList.add("nonescroll"),g();let l=k(),n=document.createElement("div"),c=h(),o=b(t);n.appendChild(c),l.appendChild(n),l.appendChild(o),r.appendChild(l)}function p(){let e=document.querySelector("#loadblock");e&&(r.removeChild(e),r.classList.remove("nonescroll"))}function h(){let e=document.createElement("img");return e.src=f,e}function b(e){let t=document.createElement("p");return t.innerText=e,t}function k(){let e=document.createElement("div");return e.setAttribute("style",`
            position: absolute;
            top: 0;
            width: 100%;
            display: flex;
            justify-content: center;
            background-color: var(--secondary-light);
            flex-direction:column;
            height: `+window.innerHeight+`px;
            z-index:100000;
            align-items: center;
    `),e.setAttribute("id","loadblock"),e}var u;function g(){var e=Math.max(document.body.scrollTop,document.documentElement.scrollTop);return e>0?(window.scrollBy(0,-100),u=setTimeout(g(),20)):clearTimeout(u),!1}function x(e){let t=document.createElement("div");t.setAttribute("class","card-gif");let l=document.createElement("img");return l.src=e.src,t.appendChild(l),t}function T(e){let t=document.createElement("div");t.setAttribute("class","card-text");let l=document.createElement("p");l.innerText=e.word;let n=document.createElement("p"),c=e.info.translate.length;for(let o=0;o<c;o++){let i=" , ";o==c-1&&(i=";"),n.innerText+=" "+e.info.translate[o]+i}return t.appendChild(l),t.appendChild(n),t}function _(e){let t=document.querySelector("#comfim_delete_card"),l=document.querySelector("#aboard_delete_card");location="#deleteCard",t.onclick=()=>(v(e),!0),l.onclick=()=>{location="#close"}}function v(e){m("body","\u0420\u0430\u0441\u043F\u044B\u043B\u044F\u044E..."),s("GET","/card/delete/"+e).then(t=>{console.log(t),location="#close",p(),S(),C()}).catch(t=>{console.log(t)})}function y(e){console.log("\u0414\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0432 \u043A\u043E\u043B\u043E\u0434\u0443",e)}function A(e){let t=document.createElement("div");t.setAttribute("class","card-option");let l=document.createElement("div");l.setAttribute("class","button-group-column"),t.appendChild(l);let n=document.createElement("button");n.setAttribute("class","danger"),n.innerText="\u0420\u0430\u0441\u043F\u044B\u043B\u0438\u0442\u044C",n.onclick=()=>{_(e.id)};let c=document.createElement("button");return c.setAttribute("class",""),c.innerText="\u0412 \u043A\u043E\u043B\u043E\u0434\u0443",c.onclick=()=>{y(e.id)},l.appendChild(n),l.appendChild(c),t.appendChild(l),t}function E(e){window.currentPage=e.current_page;let t=document.querySelector("#collection-pagination");t.innerHTML=" ";let l=document.createElement("a");if(l.innerText=e.current_page,l.setAttribute("class","deck-paginte-item active-paginate-item"),l.setAttribute("role","button"),l.onclick=()=>{a(e.current_page)},e.prev_page!=null){let n=document.createElement("a");n.setAttribute("class","deck-paginte-item"),n.innerText=e.prev_page,n.setAttribute("role","button"),n.setAttribute("href","#"+e.prev_page),n.onclick=()=>{a(e.prev_page)},t.appendChild(n)}if(t.appendChild(l),e.next_page!=null){let n=document.createElement("a");n.setAttribute("class","deck-paginte-item"),n.setAttribute("role","button"),n.setAttribute("href","#"+e.next_page),n.innerText=e.next_page,n.onclick=()=>{a(e.next_page)},t.appendChild(n)}}function P(e){let t=document.querySelector("#count_card_current_page"),l=document.querySelector("#count_cards"),n=0;e.next_page==null?n=e.total:n=e.current_page*e.count_item_current_page,t.innerText=n,l.innerText=e.total}let d=document.querySelector("#deck-card"),w=["","common","rare","epic","legend"];function a(e){m("body","\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043C \u0432\u0430\u0448\u0443 \u043A\u043E\u043B\u043B\u0435\u043A\u0446\u0438\u044E"),s("GET","/card/getCards/?page="+e).then(t=>{L(),B(t.data),E(t.pagination),P(t.pagination),p()}).catch(t=>{console.log(t)})}a(1);function B(e){for(let t=0;t<e.length;t++)d.appendChild(q(e[t]))}function q(e){let t=document.createElement("div");t.setAttribute("class","card "+w[e.level]);let l=x(e),n=T(e),c=A(e);return t.appendChild(l),t.appendChild(n),t.appendChild(c),t}function L(){for(;d.children.length>1;)d.removeChild(d.lastChild)}function S(){window.currentPage<2&&a(1)}export{p as a,T as b,E as c,A as d,P as e,x as g,m as s,S as u};
