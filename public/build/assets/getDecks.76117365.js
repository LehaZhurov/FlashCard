import{s as a,S as i,b as u,d as g,c as y,e as f}from"./getCardCollection.3a48e209.js";function D(t){let e=document.querySelector("#comfim_delete_deck"),c=document.querySelector("#aboard_delete_deck");location="#deleteDeck",e.onclick=()=>(E(t),!0),c.onclick=()=>{location="#close"}}function E(t){a("body","\u0423\u0434\u0430\u043B\u044F\u044E..."),i("GET","/deck/delete/"+t).then(e=>{location="#close",u(),M(1)}).catch(e=>{console.log(e)})}function A(t){document.querySelector("#count-deck").innerHTML=t.length}function v(t){console.log(t)}function B(t){let e=document.createElement("div");e.setAttribute("class","card-option");let c=document.createElement("div");c.setAttribute("class","button-group-column"),e.appendChild(c);let n=document.createElement("button");n.setAttribute("class","danger"),n.innerText="\u0420\u0430\u0441\u043F\u044B\u043B\u0438\u0442\u044C",n.onclick=()=>{g(t.id)};let o=document.createElement("button");return o.setAttribute("class","danger"),o.innerText="\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0438\u0437 \u043A\u043E\u043B\u043E\u0434\u044B",o.onclick=()=>{v(t.id)},c.appendChild(n),c.appendChild(o),e.appendChild(c),e}async function T(t){return await i("GET","/deck/"+t+"/cards").then(c=>c).catch(c=>{console.log(c)})}function S(t){document.querySelector("#count_card_current_deck").innerHTML=t.length}let b=document.querySelector("#decks-view"),h=document.querySelector("#cards-deck-view"),q=document.querySelector("#back-to-decks"),C=document.querySelector("#cards-deck"),x=["","common","rare","epic","legend"];async function _(t){F(),a("body","\u041F\u0440\u043E\u0441\u043C\u0430\u0442\u0440\u0438\u0432\u0430\u044E \u043A\u043E\u043B\u043E\u0434\u0443");let e=await T(t);P(),L(e.data),S(e.data),u()}function F(){b.setAttribute("style","display:none"),h.setAttribute("style","display:block")}q.onclick=()=>{w()};function w(){b.setAttribute("style","display:block"),h.setAttribute("style","display:none")}function L(t){for(let e=0;e<t.length;e++)C.appendChild(H(t[e]))}function H(t){let e=document.createElement("div");e.setAttribute("class","card "+x[t.level]);let c=y(t),n=f(t),o=B(t);return e.appendChild(c),e.appendChild(n),e.appendChild(o),e}function P(){C.innerHTML=" "}function G(t,e){let c=document.querySelector("#"+t);c.innerHTML=" ";for(let n=0;n<e.length;n++)c.appendChild(I(e[n]))}function I(t){let e=document.createElement("option");return e.innerText=t.name,e.setAttribute("value",t.id),e}let l=document.querySelector("#deck-card-deck");function M(t=1){a("body","\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043C \u0432\u0430\u0448\u044B \u043A\u043E\u043B\u043E\u0434\u044B"),i("GET","/deck/getDecks/?page="+t).then(e=>{O(),R(e.data),G("select_deck_from_add_card",e.data),A(e.data),u()}).catch(e=>{console.log(e)})}function O(){for(;l.children.length>1;)l.removeChild(l.lastChild)}function R(t){for(var e=0;e<t.length;e++)l.appendChild(j(t[e]))}function j(t){let e=document.createElement("div");e.setAttribute("class","deck-card");let c=document.createElement("h1");c.innerText=t.name,e.appendChild(c);let n=document.createElement("div");n.setAttribute("class","deck-card-option");let o=document.createElement("div");o.setAttribute("class","button-group-row"),n.appendChild(o);let d=document.createElement("button");d.setAttribute("class","danger");let s=document.createElement("i");s.setAttribute("class","bx bxs-trash"),d.appendChild(s),d.onclick=()=>{D(t.id)},o.appendChild(d);let r=document.createElement("button"),p=document.createElement("i");p.setAttribute("class","bx bxs-edit"),r.appendChild(p),r.onclick=()=>{_(t.id)},o.appendChild(r);let m=document.createElement("button"),k=document.createElement("i");return k.setAttribute("class","bx bx-play"),m.appendChild(k),o.appendChild(m),e.appendChild(n),e}export{M as g};
