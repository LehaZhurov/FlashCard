import{s as a,S as i,b as r,c as u,d as f,e as D,f as v,h as E}from"./getCardCollection.0cbd83d5.js";function _(t){let e=document.querySelector("#comfim_delete_deck"),c=document.querySelector("#aboard_delete_deck");location="#deleteDeck",e.onclick=()=>(A(t),!0),c.onclick=()=>{location="#close"}}function A(t){a("body","\u0423\u0434\u0430\u043B\u044F\u044E..."),i("GET","/deck/delete/"+t).then(e=>{location="#close",r(),j(1)}).catch(e=>{u(e.message,"error"),r()})}function B(t){document.querySelector("#count-deck").innerHTML=t.length}async function h(t){return await i("GET","/deck/"+t+"/cards").then(c=>c).catch(c=>{u(c.message,"error")})}function S(t,e){let c=document.querySelector("#comfim_remove_card"),n=document.querySelector("#aboard_remove_card");location="#removeCardFromDeck",c.onclick=()=>(q(t,e),!0),n.onclick=()=>{location="#close"}}function q(t,e){let c=new FormData;c.append("card_id",t),c.append("deck_id",e),a("body","\u0423\u0431\u0438\u0440\u0430\u0435\u043C \u043A\u0430\u0440\u0442\u0443 \u0438\u0437 \u043A\u043E\u043B\u043E\u0434\u044B"),i("POST","/card/removeCardFromDeck",c).then(n=>{location="#close",h(e),r()}).catch(n=>{u(n.message,"error"),r()})}function T(t){let e=document.createElement("div");e.setAttribute("class","card-option");let c=document.createElement("div");c.setAttribute("class","button-group-column"),e.appendChild(c);let n=document.createElement("button");n.setAttribute("class","danger"),n.innerText="\u0420\u0430\u0441\u043F\u044B\u043B\u0438\u0442\u044C",n.onclick=()=>{f(t.id)};let o=document.createElement("button");return o.setAttribute("class","danger"),o.innerText="\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0438\u0437 \u043A\u043E\u043B\u043E\u0434\u044B",o.onclick=()=>{S(t.id,t.deck_id)},c.appendChild(n),c.appendChild(o),e.appendChild(c),e}function F(t){document.querySelector("#count_card_current_deck").innerHTML=t.length}let C=document.querySelector("#decks-view"),g=document.querySelector("#cards-deck-view"),x=document.querySelector("#back-to-decks"),y=document.querySelector("#cards-deck"),w=["","common","rare","epic","legend"];async function L(t){H(),a("body","\u041F\u0440\u043E\u0441\u043C\u0430\u0442\u0440\u0438\u0432\u0430\u044E \u043A\u043E\u043B\u043E\u0434\u0443");let e=await h(t);G(),P(e.data),F(e.data),r()}function H(){C.setAttribute("style","display:none"),g.setAttribute("style","display:block")}x.onclick=()=>{O()};function O(){C.setAttribute("style","display:block"),g.setAttribute("style","display:none")}function P(t){for(let e=0;e<t.length;e++)y.appendChild(R(t[e]))}function R(t){let e=document.createElement("div");e.setAttribute("class","card "+w[t.level]);let c=D(t),n=v(t),o=T(t),d=E(t,o,n);return e.appendChild(c),e.appendChild(n),e.appendChild(o),e.appendChild(d),e}function G(){y.innerHTML=" "}function M(t,e){let c=document.querySelector("#"+t);c.innerHTML=" ";for(let n=0;n<e.length;n++)c.appendChild(I(e[n]))}function I(t){let e=document.createElement("option");return e.innerText=t.name,e.setAttribute("value",t.id),e}let l=document.querySelector("#deck-card-deck");function j(t=1){a("body","\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043C \u0432\u0430\u0448\u044B \u043A\u043E\u043B\u043E\u0434\u044B"),i("GET","/deck/getDecks/?page="+t).then(e=>{z(),J(e.data),M("select_deck_from_add_card",e.data),B(e.data),r()}).catch(e=>{u(e.message,"error"),r()})}function z(){for(;l.children.length>1;)l.removeChild(l.lastChild)}function J(t){for(var e=0;e<t.length;e++)l.appendChild(K(t[e]))}function K(t){let e=document.createElement("div");e.setAttribute("class","deck-card");let c=document.createElement("h1");c.innerText=t.name,e.appendChild(c);let n=document.createElement("div");n.setAttribute("class","deck-card-option");let o=document.createElement("div");o.setAttribute("class","button-group-row"),n.appendChild(o);let d=document.createElement("button");d.setAttribute("class","danger");let m=document.createElement("i");m.setAttribute("class","bx bxs-trash"),d.appendChild(m),d.onclick=()=>{_(t.id)},o.appendChild(d);let s=document.createElement("button"),p=document.createElement("i");p.setAttribute("class","bx bxs-edit"),s.appendChild(p),s.onclick=()=>{L(t.id)},o.appendChild(s);let k=document.createElement("button"),b=document.createElement("i");return b.setAttribute("class","bx bx-play"),k.appendChild(b),o.appendChild(k),e.appendChild(n),e}export{j as g};
